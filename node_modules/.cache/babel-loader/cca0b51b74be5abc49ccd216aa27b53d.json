{"remainingRequest":"D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\node_modules\\babel-loader\\lib\\index.js!D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\src\\components\\jeecg\\JVxeTable\\components\\cells\\JVxeUserSelectCell.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\src\\components\\jeecg\\JVxeTable\\components\\cells\\JVxeUserSelectCell.vue","mtime":1665386876000},{"path":"D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1665642925904},{"path":"D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\node_modules\\babel-loader\\lib\\index.js","mtime":1665642924601},{"path":"D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1665642925904},{"path":"D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\node_modules\\vue-loader\\lib\\index.js","mtime":1665642924058}],"contextDependencies":[],"result":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport JVxeCellMixins, { dispatchEvent } from '@/components/jeecg/JVxeTable/mixins/JVxeCellMixins';\nimport JSelectUserByDepModal from '@/components/jeecgbiz/modal/JSelectUserByDepModal';\nexport default {\n  name: 'JVxeUserSelectCell',\n  mixins: [JVxeCellMixins],\n  components: {\n    JSelectUserByDepModal: JSelectUserByDepModal\n  },\n  data: function data() {\n    return {\n      userIds: '',\n      userNames: '',\n      innerUserValue: '',\n      selectedOptions: []\n    };\n  },\n  computed: {\n    custProps: function custProps() {\n      var userIds = this.userIds,\n          col = this.originColumn,\n          caseId = this.caseId,\n          cellProps = this.cellProps;\n      return _objectSpread(_objectSpread({}, cellProps), {}, {\n        value: userIds,\n        field: col.field || col.key,\n        groupId: caseId,\n        class: 'jvxe-select'\n      });\n    },\n    componentDisabled: function componentDisabled() {\n      console.log('333', this.cellProps);\n\n      if (this.cellProps.disabled == true) {\n        return true;\n      }\n\n      return false;\n    },\n    modalWidth: function modalWidth() {\n      if (this.cellProps.modalWidth) {\n        return this.cellProps.modalWidth;\n      } else {\n        return 1250;\n      }\n    },\n    multi: function multi() {\n      if (this.cellProps.multi == false) {\n        return false;\n      } else {\n        return true;\n      }\n    },\n    storeField: function storeField() {\n      if (this.originColumn) {\n        var str = this.originColumn.fieldExtendJson;\n\n        if (str) {\n          var json = JSON.parse(str);\n\n          if (json && json.store) {\n            return json.store;\n          }\n        }\n      }\n\n      return 'username';\n    },\n    textField: function textField() {\n      if (this.originColumn) {\n        var str = this.originColumn.fieldExtendJson;\n\n        if (str) {\n          var json = JSON.parse(str);\n\n          if (json && json.text) {\n            return json.text;\n          }\n        }\n      }\n\n      return 'realname';\n    }\n  },\n  watch: {\n    innerValue: {\n      immediate: true,\n      handler: function handler(val) {\n        if (val == null || val === '') {\n          this.userIds = '';\n        } else {\n          this.userIds = val;\n        }\n      }\n    }\n  },\n  methods: {\n    openSelect: function openSelect() {\n      // disabled 不弹窗\n      if (this.componentDisabled) {\n        return;\n      }\n\n      this.$refs.selectModal.showModal();\n    },\n    selectOK: function selectOK(rows, idstr) {\n      var _this = this;\n\n      console.log(\"当前选中用户\", rows);\n      console.log(\"当前选中用户ID\", idstr);\n\n      if (!rows) {\n        this.userNames = '';\n        this.userIds = '';\n      } else {\n        this.userIds = rows.map(function (row) {\n          return row[_this.storeField];\n        }).join(',');\n        this.userNames = rows.map(function (row) {\n          return row[_this.textField];\n        }).join(',');\n      }\n\n      this.handleChangeCommon(this.userIds);\n    },\n    handleEmpty: function handleEmpty() {\n      this.selectOK('');\n    },\n    initComp: function initComp(userNames) {\n      this.userNames = userNames;\n    }\n  },\n  enhanced: {\n    switches: {\n      visible: true\n    },\n    translate: {\n      enabled: false\n    }\n  }\n};",{"version":3,"sources":["JVxeUserSelectCell.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <a-input\n      v-show=\"!userIds\"\n      @click=\"openSelect\"\n      placeholder=\"请选择用户\"\n      v-model=\"userNames\"\n      readOnly\n      class=\"jvxe-select-input\"\n      :disabled=\"componentDisabled\">\n      <a-icon slot=\"prefix\" type=\"user\" title=\"用户选择控件\"/>\n    </a-input>\n    <j-select-user-by-dep-modal\n      ref=\"selectModal\"\n      :modal-width=\"modalWidth\"\n      :multi=\"multi\"\n      :user-ids=\"userIds\"\n      @ok=\"selectOK\"\n      :store=\"storeField\"\n      :text=\"textField\"\n      @initComp=\"initComp\"/>\n    <span style=\"display: inline-block;height:100%;padding-left:14px\" v-if=\"userIds\" >\n      <span @click=\"openSelect\" style=\"display: inline-block;vertical-align: middle\">{{ userNames }}</span>\n      <a-icon v-if=\"!componentDisabled\" style=\"margin-left:5px;vertical-align: middle\" type=\"close-circle\" @click=\"handleEmpty\" title=\"清空\"/>\n    </span>\n  </div>\n\n <!-- <j-select-user-by-dep\n    v-bind=\"custProps\"\n    @change=\"handleChange\"\n    :trigger-change=\"true\">\n  </j-select-user-by-dep>-->\n</template>\n\n<script>\n  import JVxeCellMixins, { dispatchEvent } from '@/components/jeecg/JVxeTable/mixins/JVxeCellMixins'\n  import JSelectUserByDepModal from '@/components/jeecgbiz/modal/JSelectUserByDepModal'\n\n  export default {\n    name: 'JVxeUserSelectCell',\n    mixins: [JVxeCellMixins],\n    components: { JSelectUserByDepModal },\n    data() {\n      return {\n        userIds:'',\n        userNames:'',\n        innerUserValue: '',\n        selectedOptions: []\n      }\n    },\n    computed: {\n      custProps() {\n        const {userIds, originColumn: col, caseId, cellProps} = this\n        return {\n          ...cellProps,\n          value: userIds,\n          field: col.field || col.key,\n          groupId: caseId,\n          class: 'jvxe-select'\n        }\n      },\n      componentDisabled(){\n        console.log('333',this.cellProps)\n        if(this.cellProps.disabled==true){\n          return true\n        }\n        return false\n      },\n      modalWidth(){\n        if(this.cellProps.modalWidth){\n          return this.cellProps.modalWidth\n        }else{\n          return 1250\n        }\n      },\n      multi(){\n        if(this.cellProps.multi==false){\n          return false\n        }else{\n          return true\n        }\n      },\n      storeField(){\n        if(this.originColumn){\n          const str = this.originColumn.fieldExtendJson\n          if(str){\n            let json = JSON.parse(str)\n            if(json && json.store){\n              return json.store\n            }\n          }\n        }\n        return 'username'\n      },\n      textField(){\n        if(this.originColumn){\n          const str = this.originColumn.fieldExtendJson\n          if(str){\n            let json = JSON.parse(str)\n            if(json && json.text){\n              return json.text\n            }\n          }\n        }\n        return 'realname'\n      }\n    },\n    watch: {\n      innerValue: {\n        immediate: true,\n        handler(val) {\n          if (val == null || val === '') {\n            this.userIds = ''\n          } else {\n            this.userIds = val\n          }\n        }\n      }\n    },\n    methods: {\n      openSelect() {\n        // disabled 不弹窗\n        if (this.componentDisabled) {\n          return\n        }\n        this.$refs.selectModal.showModal()\n      },\n      selectOK(rows, idstr) {\n        console.log(\"当前选中用户\", rows)\n        console.log(\"当前选中用户ID\", idstr)\n        if (!rows) {\n          this.userNames = ''\n          this.userIds = ''\n        } else {\n          this.userIds = rows.map(row => row[this.storeField]).join(',')\n          this.userNames = rows.map(row => row[this.textField]).join(',')\n        }\n        this.handleChangeCommon(this.userIds)\n      },\n      handleEmpty(){\n        this.selectOK('')\n      },\n      initComp(userNames) {\n        this.userNames = userNames\n      },\n    },\n    enhanced: {\n      switches: {\n        visible: true\n      },\n      translate: {\n        enabled: false\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  /deep/ .jvxe-select-input .ant-input {\n    border: none !important;\n  }\n</style>"],"sourceRoot":"src/components/jeecg/JVxeTable/components/cells"}]}