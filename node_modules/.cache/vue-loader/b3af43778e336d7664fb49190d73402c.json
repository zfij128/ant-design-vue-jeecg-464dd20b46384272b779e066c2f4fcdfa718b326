{"remainingRequest":"D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\src\\components\\jeecg\\JVxeTable\\components\\cells\\JVxeDepartSelectCell.vue?vue&type=style&index=0&id=f7456bf2&scoped=true&lang=css&","dependencies":[{"path":"D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\src\\components\\jeecg\\JVxeTable\\components\\cells\\JVxeDepartSelectCell.vue","mtime":1665386876000},{"path":"D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\node_modules\\css-loader\\index.js","mtime":1665642925383},{"path":"D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1665642924059},{"path":"D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\node_modules\\postcss-loader\\src\\index.js","mtime":1665642925858},{"path":"D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1665642925904},{"path":"D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\node_modules\\vue-loader\\lib\\index.js","mtime":1665642924058}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/deep/ .jvxe-select-input .ant-input{\n  border: none !important;\n}\n",{"version":3,"sources":["JVxeDepartSelectCell.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0KA;AACA;AACA","file":"JVxeDepartSelectCell.vue","sourceRoot":"src/components/jeecg/JVxeTable/components/cells","sourcesContent":["<template>\n  <div>\n      <a-input\n        v-show=\"!departIds\"\n        @click=\"openSelect\"\n        placeholder=\"请点击选择部门\"\n        v-model=\"departNames\"\n        readOnly\n        :disabled=\"componentDisabled\"\n        class=\"jvxe-select-input\">\n        <a-icon slot=\"prefix\" type=\"cluster\" title=\"部门选择控件\"/>\n      </a-input>\n      <j-select-depart-modal\n        ref=\"innerDepartSelectModal\"\n        :modal-width=\"modalWidth\"\n        :multi=\"multi\"\n        :rootOpened=\"rootOpened\"\n        :depart-id=\"departIds\"\n        :store=\"storeField()\"\n        :text=\"textField()\"\n        @ok=\"handleOK\"\n        @initComp=\"initComp\"/>\n    <span style=\"display: inline-block;height:100%;padding-left:14px\" v-if=\"departIds\" >\n      <span @click=\"openSelect\" style=\"display: inline-block;vertical-align: middle\">{{ departNames }}</span>\n      <a-icon v-if=\"!componentDisabled\" style=\"margin-left:5px;vertical-align: middle\" type=\"close-circle\" @click=\"handleEmpty\" title=\"清空\"/>\n    </span>\n  </div>\n</template>\n\n<script>\n  import JVxeCellMixins, { dispatchEvent } from '@/components/jeecg/JVxeTable/mixins/JVxeCellMixins'\n  import JSelectDepartModal from '@/components/jeecgbiz/modal/JSelectDepartModal'\n\n  export default {\n    name: 'JVxeDepartSelectCell',\n    mixins: [JVxeCellMixins],\n    components:{\n      JSelectDepartModal\n    },\n    data() {\n      return {\n        departNames: '',\n        departIds: '',\n        selectedOptions: [],\n        customReturnField: 'id'\n      }\n    },\n    computed: {\n      custProps() {\n        const {departIds, originColumn: col, caseId, cellProps} = this\n        return {\n          ...cellProps,\n          value: departIds,\n          field: col.field || col.key,\n          groupId: caseId,\n          class: 'jvxe-select'\n        }\n      },\n      componentDisabled(){\n        if(this.cellProps.disabled==true){\n          return true\n        }\n        return false\n      },\n      modalWidth(){\n        if(this.cellProps.modalWidth){\n          return this.cellProps.modalWidth\n        }else{\n          return 500\n        }\n      },\n      multi(){\n        if(this.cellProps.multi==false || this.originColumn.multi===false){\n          return false\n        }else{\n          return true\n        }\n      },\n      rootOpened(){\n        if(this.cellProps.open==false){\n          return false\n        }else{\n          return true\n        }\n      }\n    },\n    watch: {\n      innerValue: {\n        immediate: true,\n        handler(val) {\n          if (val == null || val === '') {\n            this.departIds = ''\n          } else {\n            this.departIds = val\n          }\n        }\n      }\n    },\n    methods: {\n      openSelect(){\n        // disabled 不弹窗\n        if (this.componentDisabled) {\n          return\n        }\n        this.$refs.innerDepartSelectModal.show()\n      },\n      handleEmpty(){\n        this.handleOK('')\n      },\n      handleOK(rows) {\n        let value = ''\n        if (!rows && rows.length <= 0) {\n          this.departNames = ''\n          this.departIds = ''\n        } else {\n          let storeField = this.storeField();\n          let textField = this.textField();\n          value = rows.map(row => row[storeField]).join(',')\n          this.departNames = rows.map(row => row[textField]).join(',')\n          this.departIds = value\n        }\n        this.handleChangeCommon(this.departIds)\n      },\n      initComp(departNames){\n        this.departNames = departNames\n      },\n      handleChange(value) {\n        this.handleChangeCommon(value)\n      },\n      storeField(){\n        if(this.originColumn){\n          const str = this.originColumn.fieldExtendJson\n          if(str){\n            let json = JSON.parse(str)\n            if(json && json.store){\n              return json.store\n            }\n          }else if(this.originColumn.store){\n            return this.originColumn.store\n          }\n        }\n        return 'id'\n      },\n      textField(){\n        if(this.originColumn){\n          const str = this.originColumn.fieldExtendJson\n          if(str){\n            let json = JSON.parse(str)\n            if(json && json.text){\n              return json.text\n            }\n          }else if(this.originColumn.text){\n            return this.originColumn.text\n          }\n        }\n        return 'departName'\n      }\n    },\n    enhanced: {\n      switches: {\n        visible: true\n      },\n      translate: {\n        enabled: false\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  /deep/ .jvxe-select-input .ant-input{\n    border: none !important;\n  }\n</style>"]}]}