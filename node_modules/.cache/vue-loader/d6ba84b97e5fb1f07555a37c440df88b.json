{"remainingRequest":"D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\src\\views\\jeecg\\JVxeDemo\\JVxeDemo3.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\src\\views\\jeecg\\JVxeDemo\\JVxeDemo3.vue","mtime":1665386876000},{"path":"D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1665642925904},{"path":"D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\node_modules\\babel-loader\\lib\\index.js","mtime":1665642924601},{"path":"D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1665642925904},{"path":"D:\\云晟\\前端\\ant-design-vue-jeecg-464dd20b46384272b779e066c2f4fcdfa718b326\\node_modules\\vue-loader\\lib\\index.js","mtime":1665642924058}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { JVXETypes } from '@/components/jeecg/JVxeTable'\nimport { getAction } from '@api/manage'\n\nexport default {\n  name: 'JVxeDemo2',\n  data() {\n    return {\n      // 联动配置\n      linkageConfig: [\n        {requestData: this.requestData, key: 's1'},\n        // 可配置多个联动\n        {requestData: this.loadMenu, key: 'menu1',},\n      ],\n      columns: [\n        {\n          title: '性别',\n          key: 'sex',\n          type: JVXETypes.select,\n          dictCode: 'sex',\n          width: '180px',\n          placeholder: '请选择${title}',\n        },\n        {\n          title: '省/直辖市/自治区',\n          key: 's1',\n          type: JVXETypes.select,\n          width: '180px',\n          placeholder: '请选择${title}',\n          // 联动字段（即下一级的字段）\n          linkageKey: 's2',\n        },\n        {\n          title: '市',\n          key: 's2',\n          type: JVXETypes.select,\n          width: '180px',\n          placeholder: '请选择${title}',\n          // 联动字段（即下一级的字段）\n          linkageKey: 's3',\n        },\n        {\n          title: '县/区',\n          key: 's3',\n          type: JVXETypes.select,\n          width: '180px',\n          options: [],\n          placeholder: '请选择${title}',\n        },\n        {\n          title: '一级菜单',\n          key: 'menu1',\n          type: JVXETypes.select,\n          width: '180px',\n          placeholder: '请选择${title}',\n          // 联动字段（即下一级的字段）\n          linkageKey: 'menu2',\n        },\n        {\n          title: '二级菜单',\n          key: 'menu2',\n          type: JVXETypes.select,\n          width: '180px',\n          placeholder: '请选择${title}',\n          // 联动字段（即下一级的字段）\n          linkageKey: 'menu3',\n        },\n        {\n          title: '三级菜单',\n          key: 'menu3',\n          type: JVXETypes.select,\n          width: '180px',\n          placeholder: '请选择${title}',\n        }\n      ],\n      dataSource: [\n        {sex: '1', s1: '110000', s2: '110100', s3: '110101'},\n        {sex: '2', s1: '130000', s2: '130300', s3: '130303'},\n      ],\n      // 模拟数据\n      mockData: [\n        {text: '北京市', value: '110000', parent: ''},\n        {text: '天津市', value: '120000', parent: ''},\n        {text: '河北省', value: '130000', parent: ''},\n        {text: '上海市', value: '310000', parent: ''},\n\n        {text: '北京市', value: '110100', parent: '110000'},\n        {text: '天津市市', value: '120100', parent: '120000'},\n        {text: '石家庄市', value: '130100', parent: '130000'},\n        {text: '唐山市', value: '130200', parent: '130000'},\n        {text: '秦皇岛市', value: '130300', parent: '130000'},\n        {text: '上海市', value: '310100', parent: '310000'},\n\n        {text: '东城区', value: '110101', parent: '110100'},\n        {text: '西城区', value: '110102', parent: '110100'},\n        {text: '朝阳区', value: '110105', parent: '110100'},\n        {text: '和平区', value: '120101', parent: '120100'},\n        {text: '河东区', value: '120102', parent: '120100'},\n        {text: '河西区', value: '120103', parent: '120100'},\n        {text: '黄浦区', value: '310101', parent: '310100'},\n        {text: '徐汇区', value: '310104', parent: '310100'},\n        {text: '长宁区', value: '310105', parent: '310100'},\n        {text: '长安区', value: '130102', parent: '130100'},\n        {text: '桥西区', value: '130104', parent: '130100'},\n        {text: '新华区', value: '130105', parent: '130100'},\n        {text: '路南区', value: '130202', parent: '130200'},\n        {text: '路北区', value: '130203', parent: '130200'},\n        {text: '古冶区', value: '130204', parent: '130200'},\n        {text: '海港区', value: '130302', parent: '130300'},\n        {text: '山海关区', value: '130303', parent: '130300'},\n        {text: '北戴河区', value: '130304', parent: '130300'},\n      ],\n    }\n  },\n  methods: {\n    /**\n     * 模拟从后台查询数据\n     */\n    requestData(parent) {\n      return new Promise((resolve, reject) => {\n        let data = this.mockData.filter(i => i.parent === parent)\n        setTimeout(() => {\n          resolve(data)\n        }, 500)\n      })\n    },\n\n    async loadMenu(parent) {\n      let res\n      // 如果parent为空，则查询第一级菜单\n      if (parent === '') {\n        res = await getAction('/sys/permission/getSystemMenuList')\n      } else {\n        res = await getAction('/sys/permission/getSystemSubmenu', {parentId: parent})\n      }\n      if (res.success) {\n        // 返回的数据里必须包含 value 和 text 字段\n        return res.result.map(item => ({value: item.id, text: item.name}))\n      }\n      this.$message.warning('loadMenu失败：' + res.message)\n      return []\n    },\n\n  }\n}\n",{"version":3,"sources":["JVxeDemo3.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"JVxeDemo3.vue","sourceRoot":"src/views/jeecg/JVxeDemo","sourcesContent":["<template>\n  <j-vxe-table\n    ref=\"vTable\"\n    toolbar\n    row-number\n    row-selection\n    keep-source\n    :height=\"484\"\n    :dataSource=\"dataSource\"\n    :columns=\"columns\"\n    :linkage-config=\"linkageConfig\"\n  />\n</template>\n\n<script>\nimport { JVXETypes } from '@/components/jeecg/JVxeTable'\nimport { getAction } from '@api/manage'\n\nexport default {\n  name: 'JVxeDemo2',\n  data() {\n    return {\n      // 联动配置\n      linkageConfig: [\n        {requestData: this.requestData, key: 's1'},\n        // 可配置多个联动\n        {requestData: this.loadMenu, key: 'menu1',},\n      ],\n      columns: [\n        {\n          title: '性别',\n          key: 'sex',\n          type: JVXETypes.select,\n          dictCode: 'sex',\n          width: '180px',\n          placeholder: '请选择${title}',\n        },\n        {\n          title: '省/直辖市/自治区',\n          key: 's1',\n          type: JVXETypes.select,\n          width: '180px',\n          placeholder: '请选择${title}',\n          // 联动字段（即下一级的字段）\n          linkageKey: 's2',\n        },\n        {\n          title: '市',\n          key: 's2',\n          type: JVXETypes.select,\n          width: '180px',\n          placeholder: '请选择${title}',\n          // 联动字段（即下一级的字段）\n          linkageKey: 's3',\n        },\n        {\n          title: '县/区',\n          key: 's3',\n          type: JVXETypes.select,\n          width: '180px',\n          options: [],\n          placeholder: '请选择${title}',\n        },\n        {\n          title: '一级菜单',\n          key: 'menu1',\n          type: JVXETypes.select,\n          width: '180px',\n          placeholder: '请选择${title}',\n          // 联动字段（即下一级的字段）\n          linkageKey: 'menu2',\n        },\n        {\n          title: '二级菜单',\n          key: 'menu2',\n          type: JVXETypes.select,\n          width: '180px',\n          placeholder: '请选择${title}',\n          // 联动字段（即下一级的字段）\n          linkageKey: 'menu3',\n        },\n        {\n          title: '三级菜单',\n          key: 'menu3',\n          type: JVXETypes.select,\n          width: '180px',\n          placeholder: '请选择${title}',\n        }\n      ],\n      dataSource: [\n        {sex: '1', s1: '110000', s2: '110100', s3: '110101'},\n        {sex: '2', s1: '130000', s2: '130300', s3: '130303'},\n      ],\n      // 模拟数据\n      mockData: [\n        {text: '北京市', value: '110000', parent: ''},\n        {text: '天津市', value: '120000', parent: ''},\n        {text: '河北省', value: '130000', parent: ''},\n        {text: '上海市', value: '310000', parent: ''},\n\n        {text: '北京市', value: '110100', parent: '110000'},\n        {text: '天津市市', value: '120100', parent: '120000'},\n        {text: '石家庄市', value: '130100', parent: '130000'},\n        {text: '唐山市', value: '130200', parent: '130000'},\n        {text: '秦皇岛市', value: '130300', parent: '130000'},\n        {text: '上海市', value: '310100', parent: '310000'},\n\n        {text: '东城区', value: '110101', parent: '110100'},\n        {text: '西城区', value: '110102', parent: '110100'},\n        {text: '朝阳区', value: '110105', parent: '110100'},\n        {text: '和平区', value: '120101', parent: '120100'},\n        {text: '河东区', value: '120102', parent: '120100'},\n        {text: '河西区', value: '120103', parent: '120100'},\n        {text: '黄浦区', value: '310101', parent: '310100'},\n        {text: '徐汇区', value: '310104', parent: '310100'},\n        {text: '长宁区', value: '310105', parent: '310100'},\n        {text: '长安区', value: '130102', parent: '130100'},\n        {text: '桥西区', value: '130104', parent: '130100'},\n        {text: '新华区', value: '130105', parent: '130100'},\n        {text: '路南区', value: '130202', parent: '130200'},\n        {text: '路北区', value: '130203', parent: '130200'},\n        {text: '古冶区', value: '130204', parent: '130200'},\n        {text: '海港区', value: '130302', parent: '130300'},\n        {text: '山海关区', value: '130303', parent: '130300'},\n        {text: '北戴河区', value: '130304', parent: '130300'},\n      ],\n    }\n  },\n  methods: {\n    /**\n     * 模拟从后台查询数据\n     */\n    requestData(parent) {\n      return new Promise((resolve, reject) => {\n        let data = this.mockData.filter(i => i.parent === parent)\n        setTimeout(() => {\n          resolve(data)\n        }, 500)\n      })\n    },\n\n    async loadMenu(parent) {\n      let res\n      // 如果parent为空，则查询第一级菜单\n      if (parent === '') {\n        res = await getAction('/sys/permission/getSystemMenuList')\n      } else {\n        res = await getAction('/sys/permission/getSystemSubmenu', {parentId: parent})\n      }\n      if (res.success) {\n        // 返回的数据里必须包含 value 和 text 字段\n        return res.result.map(item => ({value: item.id, text: item.name}))\n      }\n      this.$message.warning('loadMenu失败：' + res.message)\n      return []\n    },\n\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"]}]}